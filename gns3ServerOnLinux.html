<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <!-- Font awesome -->
    <script src="https://kit.fontawesome.com/03ac8c86ac.js"></script>

    <!-- Google fonts: Roboto-General, Sans-Code, Kalam-Highlight-->
    <link href="https://fonts.googleapis.com/css?family=Kalam|Open+Sans+Condensed:300|Roboto&display=swap" rel="stylesheet">

    <!-- My own CSSs -->
    <link rel="stylesheet" href="css/main.css">

    <title>Omar's IT blog</title>
  </head>
  <body>
<!-- Start Facebook Comments -->
<div id="fb-root"></div>
<script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v3.3"></script>
<!-- End Facebook Comments -->


  <!-- Start header -->
    <header>
      <nav class="navbar navbar-expand navbar-dark bg-dark">
        <div class="container">
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarText">
            <ul class="navbar-nav mr-auto">
              <li class="nav-item active">
                <a class="nav-link" href="index.html">Home</a>
              </li>
             </ul>
            <span class="navbar-text" style="font-size: 1.2rem;"> 
              <a href="https://www.linkedin.com/in/omarnina/" target="_blank"><i class="fab fa-linkedin"></i></a>  
              <a href="https://www.facebook.com/The-Information-Technology-Puzzle-956271024704322/?modal=admin_todo_tour" target="_blank"><i class="fab fa-facebook-square"></i></a>
              <a href="https://www.youtube.com/channel/UCyFGtEs9kM8-whcrfjZM5tw"  target="_blank"><i class="fab fa-youtube-square"></i></a>
            </span>
          </div>
        </div>
      </nav>
    </header>
  <!-- End header -->

  <!-- Title -->
    <div class="container mt-3">
      <div class="row">
        <div class="col-10"><h1>GNS3 as a Server on Ubuntu and GNS3 as a client on Windows</h1></div>
        <div class="col text-right align-self-end">Aug/11/2019</div>
      </div>
    </div>
  <!-- End Title -->

  <!-- Start Abstract -->
    <div class="container">
      <h2>Abstract</h2>
      <p>GNS3 is an astonishing tool to emulate Cisco network topologies. But if it is done as a basic installation on a Windows computer; GNS3 can start consuming high amounts of computer resources when the transition from simple to more complex network topologies happens, and it wouldn’t be possible to setup advanced switching operation.</p>

      <p>One solution, to avoid the issues mentioned, is to install GNS3 on Linux as a server and then connect a GNS3 client from any other computer running Windows, Mac or Linux.</p>

      <p>Therefore, this document will show <span class="highlight"> how to setup GNS3 as a server on Ubuntu and GNS3 as a client on Windows in more detail than the official documentation.</span></p>
      

      <!-- Start YouTube Channel -->
      <div class="row">
        <div class="col"></div>
        <div class="col-12 col-sm-10 col-md-8 col-lg-6">
          <div class="embed-responsive embed-responsive-16by9">
            <iframe class="embed-responsive-item" src="https://www.youtube.com/embed/4yelKWsP3OQ" allowfullscreen></iframe>
          </div>
        </div>
        <div class="col"></div>
      </div>
      <!-- End YouTube Channel -->

    </div>
  <!--End Abstract-->

  <!-- Pre requisites -->
    <div class="container">
      <h2>Pre requisites</h2>
      <p>It is fundamental to have basic experience on:</p>
      <ul>
          <li>Using Packet Tracer and GNS3 on Windows or Linux with basic Routing and Switching configuration.</li>
          <li>Installing Linux OSes.</li>
          <li>Being a CCNA candidate.</li>
          <li>Have used a couple of cisco routers and switches.</li>
        </ul>
    </div>
  <!-- End Prerequisites -->

  <!-- Ubuntu Installation -->
    <div class="container">
      <h2>Installing Ubuntu Server 16.04 LTS</h2>
      <p>Even though Ubuntu released its 18.04 LTS version, the official GNS3 documentation suggest installing a fresh Ubuntu 16.04 LTS server. Thus, it is recommended to follow the next steps.</p>
      <ul>
        <li>
         Go to <a href="http://releases.ubuntu.com/xenial/" target="_blank">http://releases.ubuntu.com/xenial/</a> and download the appropriate image according to your CPU architecture.
          <div class="container mt-3">
          <table class="table table-bordered">
            <caption class="text-center">Table 1: Tutorial conditions for Processor and Image</caption>
              <thead>
                <tr>
                  <th scope="col">Processor Type</th>
                  <th scope="col">Image Downloaded</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Dual Intel Core i5</td>
                  <td>64-bit PC (AMD64)</td>
                </tr>
              </tbody>
            </table>
          </div>
<div class="container mt-3">
  <div class="row">
  <div class="col-12 col-lg-8 offset-lg-2">
  <figure class="text-center">
    <img src="img/downloadUbuntu_16.04.jpg" class="figure-img img-fluid rounded" alt="DownloadUbuntu">
    <figcaption class="figure-caption text-center">Figure 1: 64-bit PC (AMD64) downloaded for Dual Intel Core i5</figcaption>
  </figure>
  </div>
  </div>
</div>

        </li>

        <li>
            It is a good option to create a bootable USB Ubuntu Server with <a href="https://rufus.ie/" target="_blank">Rufus</a>
        <div class="container mt-3">
            <div class="row">
            <div class="col-12 col-md-7 offset-md-3 col-lg-4 offset-lg-4">
            <figure class="text-center">
              <img src="img/Rufus_Hashing.jpg" class="figure-img img-fluid rounded" alt="Rufus_Hashing">
              <figcaption class="figure-caption text-center">Figure 2: Get the hash values from Rufus</figcaption>
            </figure>
            </div>
            </div>
          </div>

              <div class="container mt-3">
                  <div class="row">
                  <div class="col-12 col-sm-7 offset-sm-3 col-lg-4 offset-lg-4">
                  <figure class="text-center">
                    <img src="img/Rufus_DefaultOptions.jpg" class="figure-img img-fluid rounded" alt="DownloadUbuntu">
                    <figcaption class="figure-caption text-center">Figure 3: Use the Rufus default options</figcaption>
                  </figure>
                  </div>
                  </div>
                </div>

                <div class="container mt-3">
                    <div class="row">
                    <div class="col-12 col-sm-7 offset-sm-3 col-lg-4 offset-lg-4">
                    <figure class="text-center">
                      <img src="img/Rufus_DD_Image_Mode.jpg" class="figure-img img-fluid rounded" alt="DownloadUbuntu">
                      <figcaption class="figure-caption text-center">Figure 4: Create the USB bootable Ubuntu installation with the DD image mode</figcaption>
                    </figure>
                    </div>
                    </div>
                  </div>
        </li>

        <li>
          Start Ubuntu Installation. There is also an official documentation for installing Ubuntu Server 16.04 on <a href="https://tutorials.ubuntu.com/tutorial/tutorial-install-ubuntu-server-1604#0" target="_blank"> https://tutorials.ubuntu.com/tutorial/tutorial-install-ubuntu-server-1604#0 </a>
          <p>The main tips for Ubuntu Installation are:</p>
          <ul>
            <li>Make sure to have Internet connectivity</li>
            <li>Be very careful with disk partitioning</li>
            <li>Choose NO AUTOMATIC UPDATES</li>
            <li>Select standard system utilities and OpenSSH Server software</li>
          </ul>
        </li>
        <li class="mt-2">
          After the installation has finished do an initial Linux configuration
          <table class="table table-bordered mt-3">
              <tbody>
                <tr><td>
                    Update and Upgrade the new fresh Ubuntu Server
                </td></tr>
                <tr>
                  <td class="code">
                    $ sudo apt-get update <br>
                    $ sudo apt-get upgrade <br>
                    $ sudo reboot
                  </td>
                </tr>
              </tbody>
            </table>
        </li>
      </ul>
    </div>
  <!-- End Ubuntu Installation -->

  <!-- Start GNS3 Server Installation -->
  <div class="container mt-5">
    <h2>GNS3 Server Installation</h2>
      <table class="table table-bordered mt-3">
        <tbody>
          <tr><td>Installing as a root</td></tr> 
          <tr><td class="code">
            $ cd /tmp/ <br>
            $ sudo curl https://raw.githubusercontent.com/GNS3/gns3-server/master/scripts/remote-install.sh > gns3-remote-install.sh <br>
            $ sudo bash gns3-remote-install.sh --with-openvpn --with-iou --with-i386-repository <br>
            $ sudo reboot
        </td></tr></tbody>
      </table>
      <table class="table table-bordered mt-3">
          <tbody>
              <tr><td>Check GNS3 server version</td></tr> 
            <tr><td class="code">
              $ gns3server -v
          </td></tr></tbody>
        </table>
        <p>Finally, download the VPN certificate from <span class="code"> /root/client.opvn </span></p>
  </div>
  <!-- End GNS3 Server Installation -->

  <!-- Start VPN Installation and Configuration -->
  <div class="container">
    <h2>Install and configure OpenVPN on Windows</h2>
    <ul>
      <li>
          Go to <a href="https://openvpn.net/community-downloads/" target="_blank"> https://openvpn.net/community-downloads/</a> and download the appropriate file
      </li>
      <li class="mt-2">
          Make sure the OpenVPN configuration file client.ovpn has the right server IP address
<div class="container mt-3"><div class="row"><div class="col"><figure class="text-center">
<img src="img/openVPN_configFile.jpg" class="figure-img img-fluid rounded" alt="openVPN_configFile">
<figcaption class="figure-caption text-center">Figure 5: OpenVPN configuration file</figcaption></figure></div></div></div>
      </li>
      <li>
          Import the configuration file
<div class="container mt-3"><div class="row"><div class="col"><figure class="text-center">
<img src="img/openVPN_import01.jpg" class="figure-img img-fluid rounded" alt="openVPN_import01">
<figcaption class="figure-caption text-center">Figure 6: Go to Hidden Icons and right click on OpenVPN</figcaption></figure></div></div></div>

<div class="container mt-3"><div class="row"><div class="col"><figure class="text-center">
<img src="img/openVPN_import02.jpg" class="figure-img img-fluid rounded" alt="openVPN_import02">
<figcaption class="figure-caption text-center">Figure 7: Select Import file</figcaption></figure></div></div></div>

<div class="container mt-3"><div class="row"><div class="col-12 col-md-8 offset-md-2"><figure class="text-center">
<img src="img/openVPN_import03.jpg" class="figure-img img-fluid rounded" alt="openVPN_import03">
<figcaption class="figure-caption text-center">Figure 8: Look up the configuration file</figcaption></figure></div></div></div>

        <p>Notice: To be consistent the name of client.ovpn file was changed to gns3Server.ovpn, before to import</p>

      </li>

      <li>
          Make a VPN connection
<div class="container mt-3"><div class="row"><div class="col"><figure class="text-center">
<img src="img/openVPN_connect.jpg" class="figure-img img-fluid rounded" alt="openVPN_connect">
<figcaption class="figure-caption text-center">Figure 9: Make a VPN connection</figcaption></figure></div></div></div>
      </li>
      <li>
          The link <a href="http://172.16.253.1:3080/" target="_blank">http://172.16.253.1:3080/</a> should work
<div class="container mt-3"><div class="row"><div class="col-12 col-md-8 offset-md-2"><figure class="text-center">
<img src="img/openVPN_link.jpg" class="figure-img img-fluid rounded" alt="openVPN_link">
<figcaption class="figure-caption text-center">Figure 10: Making sure the VPN connection is working</figcaption></figure></div></div></div>
      </li>
    </ul>
  </div>
  <!-- End VPN Installation and Configuration -->

  <!-- Start GNS3 client on Windows -->
  <div class="container">
    <h2>Set Up GNS3 Client on Windows</h2>
    <ul>
      <li class=" mt-2">
        Go to <a href="https://gns3.com/software/download" target="_blank">https://gns3.com/software/download</a> and download GNS3 for windows
      </li>
      <li class="mt-2">
        Install GNS3 with default options
      </li>
      <li class="mt-2">
        Start and configure GNS3 as a client
<div class="container mt-3"><div class="row"><div class="col-12 col-md-10 offset-md-1 col-lg-6 offset-lg-3"><figure class="text-center">
<img src="img/GNS3client01.jpg" class="figure-img img-fluid rounded" alt="GNS3client01">
<figcaption class="figure-caption text-center">Figure 11: GNS3 client configuration</figcaption></figure></div></div></div>        

<div class="container mt-3"><div class="row"><div class="col-12 col-md-10 offset-md-1 col-lg-6 offset-lg-3"><figure class="text-center">
<img src="img/GNS3client02.jpg" class="figure-img img-fluid rounded" alt="GNS3client02">
<figcaption class="figure-caption text-center">Figure 12: Host is the IP address of the GNS3 server</figcaption></figure></div></div></div>        

<div class="container mt-3"><div class="row"><div class="col-12 col-md-10 offset-md-1 col-lg-6 offset-lg-3"><figure class="text-center">
<img src="img/GNS3client03.jpg" class="figure-img img-fluid rounded" alt="GNS3client03">
<figcaption class="figure-caption text-center">Figure 13: GNS3 client summary configuration</figcaption></figure></div></div></div>        

<div class="container mt-3"><div class="row"><div class="col-12 col-md-10 offset-md-1 col-lg-6 offset-lg-3"><figure class="text-center">
<img src="img/GNS3client04.jpg" class="figure-img img-fluid rounded" alt="GNS3client04">
<figcaption class="figure-caption text-center">Figure 14: Add later appliances</figcaption></figure></div></div></div>        

<div class="container mt-3"><div class="row"><div class="col-12 col-md-10 offset-md-1 col-lg-6 offset-lg-3"><figure class="text-center">
<img src="img/GNS3client05.jpg" class="figure-img img-fluid rounded" alt="GNS3client05">
<figcaption class="figure-caption text-center">Figure 15: Add later a project</figcaption></figure></div></div></div>        

<div class="container mt-3"><div class="row"><div class="col-12 col-md-10 offset-md-1 col-lg-6 offset-lg-3"><figure class="text-center">
<img src="img/GNS3client06.jpg" class="figure-img img-fluid rounded" alt="GNS3client06">
<figcaption class="figure-caption text-center">Figure 16: Main server should be with green light</figcaption></figure></div></div></div>        
</li>
    </ul>
  </div>
  <!-- End  GNS3 client on Windows -->

  <!-- Start Conclusions -->
  <div class="container">
    <h2>Conclusions</h2>
    The advantages having GNS3 as a server on Linux are: 
    <ul>
      <li>It is possible to configure almost any advanced Routing and Switching lab. Therefore, it is better than having a full hardware stack of routers and switches.</li>
      <li>It speeds up the process of jumping from one topology to another. The same process with real cisco devices can take a much longer time</li>
      <li>It has much more IOS commands than Packet Tracer</li>
      <li>It is truly stable</li>
      <li>It doesn’t consume a large quantities of computer resources as it does on a single Windows installation</li>
      <li>It is possible to lab advanced switching</li>
      <li>Very useful for CCNA and CCNP candidates</li>
    </ul>
  </div>
  <!-- End Conclusions -->

  <!-- Start Appendix and Updates -->
  <div class="container">
    <h2>Appendix and Updates</h2>
    <ul>
      <li>
        If it is needed to change network configuration on Linux
<table class="table table-bordered mt-3">
<tbody>
  <tr><td class="code">$ sudo vim /etc/network/interfaces</td></tr>
  <tr><td>
<div class="container"><div class="row"><div class="col"><figure class="text-center">
<img src="img/UbuntuNetworkDHCP.jpg" class="figure-img img-fluid rounded" alt="UbuntuNetworkDHCP">
<figcaption class="figure-caption text-center">DHCP</figcaption></figure></div></div></div>        
<div class="container"><div class="row"><div class="col"><figure class="text-center">
<img src="img/UbuntuNetworkStatic.jpg" class="figure-img img-fluid rounded" alt="UbuntuNetworkStatic">
<figcaption class="figure-caption text-center">STATIC</figcaption></figure></div></div></div>        
</td></tr></tbody>
</table>
      </li>
    </ul>
  </div>
<!-- Start Facebook -->
<div class="container">
  <div class="row"><div class="col-12"><div class="fb-like" data-href="https://www.omarsupport.com/gns3ServerOnLinux.html" data-width="" data-layout="standard" data-action="like" data-size="small" data-show-faces="true" data-share="true"></div></div></div>
  <div class="row"><div class="col-12"><div class="fb-comments" data-href="https://www.omarsupport.com/gns3ServerOnLinux.html" data-width="" data-numposts="5" data-order-by="time"></div></div></div>
</div>
<!-- End Facebook -->
  
  <!-- End Appendix and Updates -->
    <footer>
      <div class="container">
        <div class="row">
          <div class="col"><span>&copy; Developed and Designed by Omar Nina</span></div>
        </div>
      </div>
    </footer>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </body>
</html>